-- check if pet stack by nagib
wait(100)
local library = require(game.ReplicatedStorage.Library)
local save = library.Save.Get()
local inventory = library.Save.Get().Inventory
local Players = game:GetService("Players")
local player = Players.LocalPlayer

local checkInterval = 30

local function GetCoinCount()
    for i, v in pairs(save.Inventory.Currency) do
        if v.id == 'Diamonds' then
            return v._am
        end
    end
end

local lastCoinCount = GetCoinCount()
local checking = true

local function CheckIfStuck()
    if not checking then return end
    
    local CurrentCoinCount = GetCoinCount()
    
    if CurrentCoinCount == lastCoinCount then
        game:GetService("ReplicatedStorage"):WaitForChild("Network"):WaitForChild("Pets_ToggleFavoriteMode"):FireServer()
        wait(3)
        game:GetService("ReplicatedStorage"):WaitForChild("Network"):WaitForChild("Pets_ToggleFavoriteMode"):FireServer()
        print("yep")
    else
        print("Pets are farming correctly.")
        checking = false
    end
end

while checking do
    wait(checkInterval)
    CheckIfStuck()
end

print("Stopped checking because pets are farming correctly.")
